<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bybit Ticker</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f5f9fc;
      color: #333;
    }
    
    h1 {
      color: #2c3e50;
      text-align: center;
      margin-bottom: 30px;
    }
    
    .input-section {
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-bottom: 30px;
    }
    
    .input-group {
      margin-bottom: 15px;
      display: flex;
      align-items: center;
    }
    
    .input-group p {
      margin: 0 15px 0 0;
      min-width: 80px;
      font-weight: bold;
      color: #3498db;
    }
    
    input[type="text"], 
    input[type="number"] {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      margin-right: 10px;
      width: 100px;
    }
    
    #btn {
      background-color: #3498db;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
      transition: background-color 0.3s;
    }
    
    #btn:hover {
      background-color: #2980b9;
    }
    
    .tables-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: space-between;
    }
    
    table {
      border-collapse: collapse;
      width: calc(33% - 15px);
      min-width: 300px;
      background-color: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 20px;
    }
    
    th {
      background-color: #3498db;
      color: white;
      padding: 12px;
      text-align: left;
    }
    
    td {
      padding: 10px 12px;
      border-bottom: 1px solid #e0e0e0;
    }
    
    tr:nth-child(even) {
      background-color: #f2f9ff;
    }
    
    tr:hover {
      background-color: #e6f2ff;
    }
    
    .loading {
      color: #7f8c8d;
      font-style: italic;
    }
    
    @media (max-width: 1000px) {
      table {
        width: calc(50% - 10px);
      }
    }
    
    @media (max-width: 700px) {
      table {
        width: 100%;
      }
      
      .input-group {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .input-group p {
        margin-bottom: 5px;
      }
    }
  </style>
</head>
<body>
  <!-- Остальной HTML код остается без изменений -->
  <h1>usdt/процент</h1>
  
  <div class="input-section">
    <div class="input-group">
      <p>Bybit</p>
      <input id="usdt_bybit" type="number" value="8450">
      <input id="percent_bybit" type="number" value="103">
    </div>
    
    <div class="input-group">
      <p>emcd</p>
      <input id="usdt_emcd" type="number" value="8550">
      <input id="percent_emcd" type="number" value="102">
    </div>
    
    <div class="input-group">
      <p>ДОП</p>
      <input id="usdt_dop" type="number" value="8450">
      <input id="percent_dop" type="number" value="101">
    </div>
    
    <input id="btn" type="button" value="Calculate" onclick="calculatePrices()">

  </div>
  
  <div class="tables-container">
    <table>
      <tr>
        <th>Coin</th>
        <th>Price</th>
        <th>Bybit</th>
      </tr>
      <tr>
        <td>BTC</td>
        <td id="btc" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>ETH</td>
        <td id="eth" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>USDC</td>
        <td id="usdc" class="loading">loading...</td>
        <td></td>
      </tr>
    </table>
    
    <table>
      <tr>
        <th>Coin</th>
        <th>Price</th>
        <th>EMCD</th>
      </tr>
      <tr>
        <td>BTC</td>
        <td id="btce" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>DOGE</td>
        <td id="dogee" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>LTC</td>
        <td id="ltce" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>ETC</td>
        <td id="etce" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>ETH</td>
        <td id="ethe" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>USDC</td>
        <td id="usdce" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>TON</td>
        <td id="tone" class="loading">loading...</td>
        <td></td>
      </tr>
    </table>
    
    <table>
      <tr>
        <th>Coin</th>
        <th>Price</th>
        <th>ДОП</th>
      </tr>
      <tr>
        <td>BTC</td>
        <td id="btcd" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>DOGE</td>
        <td id="doged" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>LTC</td>
        <td id="ltcd" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>ETC</td>
        <td id="etcd" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>ETH</td>
        <td id="ethd" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>USDC</td>
        <td id="usdcd" class="loading">loading...</td>
        <td></td>
      </tr>
      <tr>
        <td>TON</td>
        <td id="tond" class="loading">loading...</td>
        <td></td>
      </tr>
    </table>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    // Ваш JavaScript код остается без изменений
    // Глобальные переменные для хранения значений
    let usdt_bybitstr, usdt_emcdstr;

    function get_value(id) {
      return document.getElementById(id).value;
    }

    async function get_price(coin) {
      try {
        const config = {
          method: 'get',
          url: `https://api.bybit.com/v5/market/tickers?category=spot&symbol=${coin}`,
          headers: {}
        };
        
        const response = await axios(config);
        return Number(response.data.result.list[0].lastPrice);
      } catch (error) {
        console.error('Error fetching price:', error);
        return null;
      }
    }

    async function calculatePrices() {
      // Получаем значения из полей ввода
      usdt_bybitstr = get_value('usdt_bybit');
      percent_bybitstr = get_value('percent_bybit');
      usdt_emcdstr = get_value('usdt_emcd');
      percent_emcdstr = get_value('percent_emcd');
      usdt_dopstr = get_value('usdt_dop');
      percent_dopstr = get_value('percent_dop');

      console.log('Bybit value:', usdt_bybitstr);
      console.log('EMCD value:', usdt_emcdstr);

      // Получаем текущие цены
      const btcPrice = await get_price('BTCUSDT');
      const ethPrice = await get_price('ETHUSDT');
      const usdcPrice = await get_price('USDCUSDT');

      const dogePrice = await get_price('DOGEUSDT');
      const ltcPrice = await get_price('LTCUSDT');
      const etcPrice = await get_price('ETCUSDT');
      const tonPrice = await get_price('TONUSDT');

      if (btcPrice && ethPrice && usdcPrice) {
        // Выполняем расчёты
        const btcCalculation = Number(usdt_bybitstr) / (Number(percent_bybitstr) /btcPrice);
        const ethCalculation = Number(usdt_bybitstr) / (Number(percent_bybitstr) /ethPrice);
        const usdcCalculation = Number(usdt_bybitstr) / (Number(percent_bybitstr) /usdcPrice);
        
        console.log('BTC Calculation:', btcCalculation.toFixed(2));
        console.log('LTC Calculation:', ethCalculation.toFixed(2));
        
        // Обновляем интерфейс
        document.getElementById('btc').textContent = btcCalculation.toFixed(2);
        document.getElementById('btc').className = '';
        document.getElementById('eth').textContent = ethCalculation.toFixed(2);
        document.getElementById('eth').className = '';
        document.getElementById('usdc').textContent = usdcCalculation.toFixed(2);
        document.getElementById('usdc').className = '';
      }
      if (btcPrice && dogePrice && ltcPrice && etcPrice && ethPrice && usdcPrice && tonPrice){
        const btcCalculation = Number(usdt_emcdstr) / (Number(percent_emcdstr) /btcPrice);
        const dogeCalculation = Number(usdt_emcdstr) / (Number(percent_emcdstr) /dogePrice);
        const ltcCalculation = Number(usdt_emcdstr) / (Number(percent_emcdstr) /ltcPrice);
        const etcCalculation = Number(usdt_emcdstr) / (Number(percent_emcdstr) /etcPrice);
        const ethCalculation = Number(usdt_emcdstr) / (Number(percent_emcdstr) /ethPrice);
        const usdcCalculation = Number(usdt_emcdstr) / (Number(percent_emcdstr) /usdcPrice);
        const tonCalculation = Number(usdt_emcdstr) / (Number(percent_emcdstr) /tonPrice);

        document.getElementById('btce').textContent = btcCalculation.toFixed(2);
        document.getElementById('btce').className = '';
        document.getElementById('dogee').textContent = dogeCalculation.toFixed(2);
        document.getElementById('dogee').className = '';
        document.getElementById('ltce').textContent = ltcCalculation.toFixed(2);
        document.getElementById('ltce').className = '';
        document.getElementById('etce').textContent = etcCalculation.toFixed(2);
        document.getElementById('etce').className = '';
        document.getElementById('ethe').textContent = ethCalculation.toFixed(2);
        document.getElementById('ethe').className = '';
        document.getElementById('usdce').textContent = usdcCalculation.toFixed(2);
        document.getElementById('usdce').className = '';
        document.getElementById('tone').textContent = tonCalculation.toFixed(2);
        document.getElementById('tone').className = '';
     }
     if (btcPrice && dogePrice && ltcPrice && etcPrice && ethPrice && usdcPrice && tonPrice){
        const btcCalculation = Number(usdt_dopstr) / (Number(percent_dopstr) /btcPrice);
        const dogeCalculation = Number(usdt_dopstr) / (Number(percent_dopstr) /dogePrice);
        const ltcCalculation = Number(usdt_dopstr) / (Number(percent_dopstr) /ltcPrice);
        const etcCalculation = Number(usdt_dopstr) / (Number(percent_dopstr) /etcPrice);
        const ethCalculation = Number(usdt_dopstr) / (Number(percent_dopstr) /ethPrice);
        const usdcCalculation = Number(usdt_dopstr) / (Number(percent_dopstr) /usdcPrice);
        const tonCalculation = Number(usdt_dopstr) / (Number(percent_dopstr) /tonPrice);

        document.getElementById('btcd').textContent = btcCalculation.toFixed(2);
        document.getElementById('btcd').className = '';
        document.getElementById('doged').textContent = dogeCalculation.toFixed(2);
        document.getElementById('doged').className = '';
        document.getElementById('ltcd').textContent = ltcCalculation.toFixed(2);
        document.getElementById('ltcd').className = '';
        document.getElementById('etcd').textContent = etcCalculation.toFixed(2);
        document.getElementById('etcd').className = '';
        document.getElementById('ethd').textContent = ethCalculation.toFixed(2);
        document.getElementById('ethd').className = '';
        document.getElementById('usdcd').textContent = usdcCalculation.toFixed(2);
        document.getElementById('usdcd').className = '';
        document.getElementById('tond').textContent = tonCalculation.toFixed(2);
        document.getElementById('tond').className = '';
     }
    }
      
    // Загружаем данные при старте
    calculatePrices();
  </script>
</body>
</html>
